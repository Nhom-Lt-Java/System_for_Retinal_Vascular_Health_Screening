server:
  port: 8080

spring:
  datasource:
    url: ${SPRING_DATASOURCE_URL:jdbc:postgresql://localhost:5432/retinal_system}
    username: ${SPRING_DATASOURCE_USERNAME:postgres}
    password: ${SPRING_DATASOURCE_PASSWORD:123456}
  jpa:
    hibernate:
      ddl-auto: validate
    properties:
      hibernate:
        jdbc:
          time_zone: UTC
  flyway:
    enabled: true
    locations: classpath:db/migration
  servlet:
    multipart:
      # Bulk upload support (NFR-2)
      max-file-size: 500MB
      max-request-size: 500MB

ai:
  # Support both env names for backward compatibility
  base-url: ${AI_BASE_URL:${AI_CORE_BASE_URL:http://localhost:8000}}

minio:
  # Support both env names for backward compatibility
  endpoint: ${MINIO_ENDPOINT:${MINIO_INTERNAL_ENDPOINT:http://localhost:9000}}
  access-key: ${MINIO_ACCESS_KEY:minioadmin}
  secret-key: ${MINIO_SECRET_KEY:minioadmin123}
  bucket: ${MINIO_BUCKET:aura}
  presign-expiry-seconds: ${MINIO_PRESIGN_EXPIRY_SECONDS:600}
  publicEndpoint: ${MINIO_PUBLIC_ENDPOINT:${MINIO_PUBLIC_URL:http://localhost:9000}}

analysis:
  worker:
    enabled: ${ANALYSIS_WORKER_ENABLED:true}
    poll-ms: ${ANALYSIS_WORKER_POLL_MS:500}
    max-attempts: ${ANALYSIS_WORKER_MAX_ATTEMPTS:3}
    concurrency: ${ANALYSIS_WORKER_CONCURRENCY:2}
